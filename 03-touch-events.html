<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ship sim</title>
    <style>
        #canvas{
            background-color: #000000;
        }
    </style>
</head>
<body>
<canvas id="canvas" width="400" height="400" style="background-color: aqua"></canvas>
<textarea  id="log"></textarea>
<script src="utils.js"></script>
<script src="ball.js"></script>
<script>
    window.onload = function(){
        var canvas = document.getElementById("canvas"),
                context = canvas.getContext('2d'),
                mouse = utils.captureMouse(canvas),
                log = document.getElementById("log"),
                ball = new Ball();

        ball.x= canvas.width/2;
        ball.y=canvas.height/2;
        ball.draw(context);

        canvas.addEventListener('touchstart',function (event){
            if(utils.containsPoint(ball.getBounds(),mouse.x,mouse.y)){
                log.value = "in ball : touchstart";
            }else{
                log.value = "canvas : touchstart";
            }
        },false);
        window.addEventListener('touchend',function (event) {
                log.value = "canvas : touchend";
        },false);
        canvas.addEventListener('touchmove',function (event) {
            if(utils.containsPoint(ball.getBounds(),mouse.x,mouse.y)){
                log.value = "in ball : touchmove";
            }else{
                log.value = "canvas : touchmove";
            }
        },false);
    }
</script>
</body>
</html>